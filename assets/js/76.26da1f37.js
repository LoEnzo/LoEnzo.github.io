(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{724:function(s,t,a){"use strict";a.r(t);var n=a(5),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[s._v("Bash 是 Unix 系统和 Linux 系统的一种 Shell（命令行环境），是目前绝大多数 Linux 发行版的默认 Shell。Shell 有很多种，只要能给用户提供命令行环境的程序，都可以看作是 Shell，Bash 是目前最常用的 Shell。")])]),s._v(" "),a("h2",{attrs:{id:"常用指令和快捷键"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用指令和快捷键"}},[s._v("#")]),s._v(" 常用指令和快捷键")]),s._v(" "),a("h3",{attrs:{id:"基础指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基础指令"}},[s._v("#")]),s._v(" 基础指令")]),s._v(" "),a("p",[s._v("$ 是用户的命令提示，实例："),a("code",[s._v("[user@hostname] $")]),s._v("，#是root用户的命令提示，实例："),a("code",[s._v("[root@hostname] #")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("指令")]),s._v(" "),a("th",[s._v("备注")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("$ echo $shell")]),s._v(" "),a("td",[s._v("查看当前运行的shell")])]),s._v(" "),a("tr",[a("td",[s._v("$ cat /etc/shells")]),s._v(" "),a("td",[s._v("查看当前Linux安装的所有shell")])]),s._v(" "),a("tr",[a("td",[s._v("$ bash")]),s._v(" "),a("td",[s._v("一般Linux进入命令行环境就已经打开了bash,如果默认shell不是bash,可以命令行进入bash")])]),s._v(" "),a("tr",[a("td",[s._v("$ bash --version")]),s._v(" "),a("td",[s._v("bash版本")])]),s._v(" "),a("tr",[a("td",[s._v("$ exit")]),s._v(" "),a("td",[s._v("退出")])]),s._v(" "),a("tr",[a("td",[s._v("$ pwd")]),s._v(" "),a("td",[s._v("查看当前路径")])])])]),s._v(" "),a("h3",{attrs:{id:"常用快捷键"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用快捷键"}},[s._v("#")]),s._v(" 常用快捷键")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("快捷键")]),s._v(" "),a("th",[s._v("备注")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("alt+b")]),s._v(" "),a("td",[s._v("移动到当前单词首位")])]),s._v(" "),a("tr",[a("td",[s._v("clear | ctrl+l")]),s._v(" "),a("td",[s._v("清除屏幕内容")])]),s._v(" "),a("tr",[a("td",[s._v("shift + PageUp")]),s._v(" "),a("td",[s._v("向上滚动")])]),s._v(" "),a("tr",[a("td",[s._v("shift + PageDown")]),s._v(" "),a("td",[s._v("向下滚动")])]),s._v(" "),a("tr",[a("td",[s._v("cd -")]),s._v(" "),a("td",[s._v("进入上一次进入的目录")])]),s._v(" "),a("tr",[a("td",[s._v("echo -n")]),s._v(" "),a("td",[s._v("不换行输入")])]),s._v(" "),a("tr",[a("td",[s._v("echo -e")]),s._v(" "),a("td",[s._v("能输入\\t \\n 转义内容")])]),s._v(" "),a("tr",[a("td"),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td"),s._v(" "),a("td")])])]),s._v(" "),a("h3",{attrs:{id:"特殊符号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#特殊符号"}},[s._v("#")]),s._v(" 特殊符号")]),s._v(" "),a("p",[a("strong",[s._v("单引号")]),s._v("：单引号保留字符的字面意思，"),a("code",[s._v("*")]),s._v("，"),a("code",[s._v("\\")]),s._v("，"),a("code",[s._v("$")]),s._v("，`` `符号都会变成普通字符")]),s._v(" "),a("p",[a("strong",[s._v("双引号")]),s._v("：以上的特殊字符都会保留其扩展的含义")]),s._v(" "),a("h3",{attrs:{id:"别名-alias-命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#别名-alias-命令"}},[s._v("#")]),s._v(" 别名，alias 命令")]),s._v(" "),a("p",[a("code",[s._v("alias")]),s._v("命令用来为一个命令指定别名，这样更便于记忆。下面是"),a("code",[s._v("alias")]),s._v("的格式。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 左边是别名,右边是原始命令名称")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("NAME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("DEFINITION\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示所有别名")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 去除别名")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("unalias")]),s._v(" name\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h2",{attrs:{id:"脚本入门"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#脚本入门"}},[s._v("#")]),s._v(" 脚本入门")]),s._v(" "),a("p",[s._v("参考："),a("a",{attrs:{href:"https://wangdoc.com/bash/intro.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Bash脚本教程"),a("OutboundLink")],1)]),s._v(" "),a("h4",{attrs:{id:"_1-shebang行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-shebang行"}},[s._v("#")]),s._v(" 1. Shebang行")]),s._v(" "),a("p",[s._v("脚本的第一行通常是指定解释器，即这个脚本必须通过什么解释器执行。这一行以"),a("code",[s._v("#!")]),s._v("字符开头，这个字符称为 Shebang，所以这一行就叫做 Shebang 行。")]),s._v(" "),a("p",[a("code",[s._v("#!")]),s._v("后面就是脚本解释器的位置，Bash 脚本的解释器一般是"),a("code",[s._v("/bin/sh")]),s._v("或"),a("code",[s._v("/bin/bash")]),s._v("。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/sh")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果 Bash 解释器不放在目录/bin，脚本就无法执行了。为了保险，可以写成下面这样")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/usr/bin/env bash")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h4",{attrs:{id:"_2-脚本执行权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-脚本执行权限"}},[s._v("#")]),s._v(" 2. 脚本执行权限")]),s._v(" "),a("p",[s._v("脚本一般使用"),a("code",[s._v(".sh")]),s._v("作为结尾，只要脚本总指定了"),a("code",[s._v("Shebang")]),s._v("行的就可以执行，前提的脚本具有执行权限，")]),s._v(" "),a("p",[s._v("脚本的权限通常设为"),a("code",[s._v("755")]),s._v("（拥有者有所有权限，其他人有读和执行权限）或者"),a("code",[s._v("700")]),s._v("（只有拥有者可以执行）。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 给所有用户执行权限")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x script.sh\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 给所有用户读权限和执行权限(read, excute)")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +rx script.sh\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("755")]),s._v(" script.sh\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只给脚本拥有者读权限和执行权限")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" u+rx script.sh\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 没有执行权限,一般执行指令如下")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" script.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h4",{attrs:{id:"_3-脚本参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-脚本参数"}},[s._v("#")]),s._v(" 3. 脚本参数")]),s._v(" "),a("p",[s._v("调用脚本时，可以带参数，参数之间以空格断开，")]),s._v(" "),a("p",[s._v("在脚本内部可以使用"),a("code",[s._v("$1")]),s._v("-"),a("code",[s._v("$9")]),s._v("调用输入的1-9个参数，10个参数以上的格式为"),a("code",[s._v("${10}")]),s._v("，"),a("code",[s._v("$0")]),s._v("是脚本的文件名，即"),a("code",[s._v("script.sh")]),s._v("，·$")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 脚本执行样例")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" script.sh parameter1 parameter2\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# exit 命令用于终止当前脚本的执行，并向 Shell 返回一个退出值, 0代表成功, 1代表失败")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在脚本中 exit 后面可以携带参数0,1 用于提示执行成功或失败")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# exit  0：正常运行程序并退出程序；")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# exit  1：非正常运行导致退出程序；")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" \n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 环境变量 $? 可以读取上一个命令的返回值")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" existCatgre\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" existCatgre\n$ "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$?")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" notExistCatgre\n$ "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$?")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("h4",{attrs:{id:"_4-符号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-符号"}},[s._v("#")]),s._v(" 4. 符号")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("符号")]),s._v(" "),a("th",[s._v("含义")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("'     '")]),s._v(" "),a("td",[s._v("单引号，用于保留字符的字面含义，$ * \\ 都会变成普通字符；如果要对单引号里面的\\转移，外层需要加上$, 例："),a("code",[s._v("$ echo $'it\\'s'")]),s._v("，不过"),a("strong",[s._v("更合理应该是"),a("code",[s._v('$ echo "it\'s"')])])])]),s._v(" "),a("tr",[a("td",[s._v('"   "')]),s._v(" "),a("td",[s._v("双引号，保存原始命令的输出格式，例如: "),a("code",[s._v('echo "$(cal)"')]),s._v(",除了 $ ` \\会被bash自动扩展外，其他符号能保留本来的含义；文件名包含空格，需要用双引号。")])]),s._v(" "),a("tr",[a("td",[s._v("``")]),s._v(" "),a("td",[s._v("反单引号，与$() 一样，用于命令替换，好处在于所有的unix shell都支持，移植性高，缺点是容易看错")])]),s._v(" "),a("tr",[a("td",[a("strong",[s._v(":=")])]),s._v(" "),a("td",[s._v("${var:=string}，如果变量var为空，就将string赋值给var")])]),s._v(" "),a("tr",[a("td",[a("strong",[s._v(":+")])]),s._v(" "),a("td",[s._v("${var:=string}，如果变量var不为空，才将string复制给var")])])])]),s._v(" "),a("h4",{attrs:{id:"_5-指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-指令"}},[s._v("#")]),s._v(" 5.指令")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("指令")]),s._v(" "),a("th",[s._v("含义")]),s._v(" "),a("th",[s._v("事例")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[s._v("ln（链接指令）ln -参数 [源文件]  [目标文件]")])]),s._v(" "),a("td"),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("-s")]),s._v(" "),a("td",[s._v("创建软连接")]),s._v(" "),a("td",[s._v("ln -s  web.jar  temp.jar")])])])]),s._v(" "),a("h4",{attrs:{id:"_6-条件判断"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-条件判断"}},[s._v("#")]),s._v(" 6. 条件判断")]),s._v(" "),a("p",[s._v("条件语句，前后要用"),a("code",[s._v("if")]),s._v("，"),a("code",[s._v("fi")]),s._v("包起来；[] 标识条件测试，前后都要有空格；")]),s._v(" "),a("p",[s._v("在shell中，"),a("code",[s._v("then")]),s._v("和"),a("code",[s._v("if")]),s._v("是分开的语句。如果要在同一行里面输入，则需要用分号将他们隔开；")]),s._v(" "),a("p",[a("strong",[s._v("if中对比变量的处理都要加双引号")]),s._v("，以免出现不必要的错误；")]),s._v(" "),a("p",[s._v("空变量和没有初始化的变量可能会对shell脚本测试产生灾难性的影响，因此在不确定变量的内容的时候，在测试号前使用-n或者-z测试一下")]),s._v(" "),a("p",[s._v("? 变量包含了之前执行命令的退出状态（最近完成的前台进程）（可以用于检测退出状态）")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" commands "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n  commands\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elif")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" commands "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n  commands"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n  commands\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("条件判断")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("符号")]),s._v(" "),a("th",[s._v("备注")]),s._v(" "),a("th",[s._v("事例")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("-eq  （equal）")]),s._v(" "),a("td",[s._v("等于")]),s._v(" "),a("td",[s._v("if [ ${pid:=0} -eq 0 ] 判断PID是否为0")])]),s._v(" "),a("tr",[a("td",[s._v("-ne  （not equal）")]),s._v(" "),a("td",[s._v("不等于")]),s._v(" "),a("td")])])]),s._v(" "),a("p",[s._v("if参数")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("参数")]),s._v(" "),a("th",[s._v("备注")]),s._v(" "),a("th",[s._v("事例")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("[ -a FILE ]")]),s._v(" "),a("td",[s._v("如果 FILE 存在则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ -b FILE ]")]),s._v(" "),a("td",[s._v("如果 FILE 存在且是一个块特殊文件则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ -c FILE ]")]),s._v(" "),a("td",[s._v("如果 FILE 存在且是一个字特殊文件则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ -d FILE ]")]),s._v(" "),a("td",[s._v("如果 FILE 存在且是一个目录则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ -e FILE ]")]),s._v(" "),a("td",[s._v("如果 FILE 存在则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ -f FILE ]")]),s._v(" "),a("td",[s._v("如果 FILE 存在且是一个普通文件则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ -g FILE ]")]),s._v(" "),a("td",[s._v("如果 FILE 存在且已经设置了SGID则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ -h FILE ]")]),s._v(" "),a("td",[s._v("如果 FILE 存在且是一个符号连接则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ -k FILE ]")]),s._v(" "),a("td",[s._v("如果 FILE 存在且已经设置了粘制位则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ -p FILE ]")]),s._v(" "),a("td",[s._v("如果 FILE 存在且是一个名字管道(F如果O)则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ -r FILE ]")]),s._v(" "),a("td",[s._v("如果 FILE 存在且是可读的则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[a("strong",[s._v("[ -s FILE ]")])]),s._v(" "),a("td",[s._v("如果 FILE 存在且大小不为o则为真。")]),s._v(" "),a("td",[s._v("判断文件是否存在")])]),s._v(" "),a("tr",[a("td",[s._v("[ -t FD ]")]),s._v(" "),a("td",[s._v("如果文件描述符 FD 打开且指向一个终端则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ -u FILE ]")]),s._v(" "),a("td",[s._v("如果 FILE 存在且设置了SUID (set user ID)则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ -w FILE ]")]),s._v(" "),a("td",[s._v("如果 FILE 如果 FILE 存在且是可写的则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ -x FILE ]")]),s._v(" "),a("td",[s._v("如果 FILE 存在且是可执行的则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ -O FILE ]")]),s._v(" "),a("td",[s._v("如果 FILE 存在且属有效用户ID则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ -G FILE ]")]),s._v(" "),a("td",[s._v("如果 FILE 存在且属有效用户组则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ -L FILE ]")]),s._v(" "),a("td",[s._v("如果 FILE 存在且是一个符号连接则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ -N FILE ]")]),s._v(" "),a("td",[s._v("如果 FILE 存在 and has been mod如果ied since it was last read则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ -S FILE ]")]),s._v(" "),a("td",[s._v("如果 FILE 存在且是一个套接字则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ FILE1 -nt FILE2 ]")]),s._v(" "),a("td",[s._v("如果 FILE1 has been changed more recently than FILE2, or 如果 FILE1 exists and FILE2 does not则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ FILE1 -ot FILE2 ]")]),s._v(" "),a("td",[s._v("如果 FILE1 比 FILE2 要老, 或者 FILE2 存在且 FILE1 不存在则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ FILE1 -ef FILE2 ]")]),s._v(" "),a("td",[s._v("如果 FILE1 和 FILE2 指向相同的设备和节点号则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ -o OPTIONNAME ]")]),s._v(" "),a("td",[s._v("如果 shell选项 “OPTIONNAME” 开启则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[a("strong",[s._v("[ -z STRING ]")])]),s._v(" "),a("td",[s._v("“STRING” 的长度为零则为真。")]),s._v(" "),a("td",[s._v("判断文件名是否存在")])]),s._v(" "),a("tr",[a("td",[s._v("[ -n STRING ] or [ STRING ]")]),s._v(" "),a("td",[s._v("“STRING” 的长度为非零 non-zero则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ STRING1 == STRING2 ]")]),s._v(" "),a("td",[s._v("如果2个字符串相同。 “=” may be used instead of “==” for strict POSIX compliance则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ STRING1 != STRING2 ]")]),s._v(" "),a("td",[s._v("如果字符串不相等则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ STRING1 < STRING2 ]")]),s._v(" "),a("td",[s._v("如果 “STRING1” sorts before “STRING2” lexicographically in the current locale则为真。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ STRING1 > STRING2 ]")]),s._v(" "),a("td",[s._v("如果 “STRING1” sorts after “STRING2” lexicographically in the current locale则为真。"),a("br"),s._v("[ -z “echo 111s|sed 's/[0-9]//g'” ] && echo 1")]),s._v(" "),a("td")])])]),s._v(" "),a("h4",{attrs:{id:"_7-set使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-set使用"}},[s._v("#")]),s._v(" 7. set使用")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行脚本")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" script.sh\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 带set参数执行脚本")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" -euxo script.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("Bash执行脚本时，会创建一个子shell，执行脚本的命令中，"),a("code",[s._v("script.sh")]),s._v("是在一个子shell环境中执行的，bash默认给了这个环境各种参数，set就是可以用来修改参数："),a("a",{attrs:{href:"https://www.gnu.org/software/bash/manual/html_node/The-Set-Builtin.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方手册"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("建议这个命令直接添加在脚本头部")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/sh")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 写法一")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" -euxo pipefail\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 写法二")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" -eux\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" -o pipefail\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("常用set指令：")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("命令")]),s._v(" "),a("th",[s._v("其他写法")]),s._v(" "),a("th",[s._v("含义")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[s._v("set -u")])]),s._v(" "),a("td",[s._v("set -o nounset")]),s._v(" "),a("td",[s._v("执行脚本时，如果遇到不存在的变量就会报错，并停止执行。")])]),s._v(" "),a("tr",[a("td",[a("strong",[s._v("set -x")])]),s._v(" "),a("td",[s._v("set -o xtrace")]),s._v(" "),a("td",[s._v("用来在运行结果之前，先输出执行的那一行命令，对于调式脚本有用；在不需要输出的命令范围外使用 "),a("code",[s._v("set -x command set -+")]),s._v("包含起来。")])]),s._v(" "),a("tr",[a("td",[a("strong",[s._v("set -e")])]),s._v(" "),a("td",[s._v("set -o errexit")]),s._v(" "),a("td",[s._v("脚本只要发生错误，就终止执行；有些命令失败后，需要它继续执行，可以在外层用 "),a("code",[s._v("set +e commmd set -e")]),s._v("包含起来")])]),s._v(" "),a("tr",[a("td",[a("strong",[s._v("set -o pipefail")])]),s._v(" "),a("td"),s._v(" "),a("td",[s._v("用于处理set -e不能满足的情况，只要一个子命令失败，整个管道命令就失败，脚本就会终止执行。")])]),s._v(" "),a("tr",[a("td",[s._v("其他指令：")]),s._v(" "),a("td"),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("set -n")]),s._v(" "),a("td",[s._v("set -o noexec")]),s._v(" "),a("td",[s._v("不运行命令，只检查语法是否正确。")])]),s._v(" "),a("tr",[a("td",[s._v("set -f")]),s._v(" "),a("td",[s._v("set -o noglob")]),s._v(" "),a("td",[s._v("表示不对通配符进行文件名扩展。使用"),a("code",[s._v("set +f")]),s._v("关闭")])]),s._v(" "),a("tr",[a("td",[s._v("set -v")]),s._v(" "),a("td",[s._v("set -o verbose")]),s._v(" "),a("td",[s._v("表示打印 Shell 接收到的每一行输入。使用"),a("code",[s._v("set +v")]),s._v("关闭")])])])]),s._v(" "),a("p",[s._v("事例：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/sh")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在执行脚本的时候输出 -e | -u | -x | -o pipefail 进行测试set指令")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# set -euxo pipefail")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭 set -e 选项 ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" +e\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -u, $bar 变量不存在,脚本停止,报错")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$bar")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" bar\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# bar || true 最终返回true,set -e 不能处理该情况,脚本不会停止,将继续执行，set -o piprfail的时候,脚本停止,提示报错")]),s._v("\nbar "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" -e fail\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打开 set -e 选项")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" -e\n\nbar\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" bar\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("h4",{attrs:{id:"springboot-启动脚本事例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#springboot-启动脚本事例"}},[s._v("#")]),s._v(" springboot 启动脚本事例")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SpringBoot")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" -e "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v("[0;31m 未输入操作名 "),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v("[0m  "),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v("[0;34m {start|stop|restart|status} "),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v('[0m"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SpringBoot")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" -e "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v("[0;31m 未输入应用名 "),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v('[0m"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" $SpringBoot"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wc")]),s._v(" -l"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$count")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SpringBoot")]),s._v(' is running..."')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Start '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SpringBoot")]),s._v(' success..."')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" java -jar "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SpringBoot")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /dev/null "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("stop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Stop '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SpringBoot")]),s._v('"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("boot_id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" $SpringBoot"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print $2}'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" $SpringBoot"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wc")]),s._v(" -l"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$count")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$boot_id")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" $SpringBoot"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wc")]),s._v(" -l"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("boot_id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" $SpringBoot"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print $2}'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" -9 "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$boot_id")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("restart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    stop\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n    start\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("status")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" $SpringBoot"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wc")]),s._v(" -l"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$count")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SpringBoot")]),s._v(' is running..."')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SpringBoot")]),s._v(' is not running..."')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("\n    start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    stop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    stop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    restart"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    restart"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    status"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    status"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    *"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" -e "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v("[0;31m Usage: "),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v("[0m  "),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v("[0;34m sh  "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v("  {start|stop|restart|status}  {SpringBootJarName} "),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v("[0m\n"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v("[0;31m Example: "),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v("[0m\n      "),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v("[0;33m sh  "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v("  start esmart-test.jar "),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v('[0m"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("esac")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);