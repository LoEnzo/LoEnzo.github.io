<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ChatGpt | 杂乱无章</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icon_vuepress_hjwu.png">
    <link rel="mask-icon" href="/icon_vuepress_hjwu.svg" color="#42b983">
    <script language="javascript" type="text/javascript" src="/js/jquery-3.5.1.min.js"></script>
    <script language="javascript" type="text/javascript" src="/js/mouseClickEffect.js"></script>
    <meta name="description" content="前山微有雨, 永巷净无尘">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta name="author" content="Enzo">
    <meta name="keywords" content="vuepress,enzo,hjwu">
    <meta name="theme-color" content="#42b983">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icon_vuepress_hjwu.png">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="baidu-site-verification" content="codeva-p04cMYFnLB">
    
    <link rel="preload" href="/assets/css/0.styles.0bb96825.css" as="style"><link rel="preload" href="/assets/js/app.d063eda2.js" as="script"><link rel="preload" href="/assets/js/3.d0639e0c.js" as="script"><link rel="preload" href="/assets/js/1.77727c25.js" as="script"><link rel="preload" href="/assets/js/104.dca58f8c.js" as="script"><link rel="preload" href="/assets/js/30.853d03e4.js" as="script"><link rel="prefetch" href="/assets/js/10.d3e0d4b7.js"><link rel="prefetch" href="/assets/js/100.573c76b5.js"><link rel="prefetch" href="/assets/js/101.f6c2ebbb.js"><link rel="prefetch" href="/assets/js/102.233a845c.js"><link rel="prefetch" href="/assets/js/103.ec868af0.js"><link rel="prefetch" href="/assets/js/105.34fe1772.js"><link rel="prefetch" href="/assets/js/106.7061b062.js"><link rel="prefetch" href="/assets/js/107.88b3618c.js"><link rel="prefetch" href="/assets/js/108.263adeb8.js"><link rel="prefetch" href="/assets/js/109.fdda9cea.js"><link rel="prefetch" href="/assets/js/11.74433c31.js"><link rel="prefetch" href="/assets/js/110.27616318.js"><link rel="prefetch" href="/assets/js/111.8efb7f50.js"><link rel="prefetch" href="/assets/js/12.3d0f9b0e.js"><link rel="prefetch" href="/assets/js/13.e594ffa1.js"><link rel="prefetch" href="/assets/js/14.706e512c.js"><link rel="prefetch" href="/assets/js/15.6487185e.js"><link rel="prefetch" href="/assets/js/16.deba5c4c.js"><link rel="prefetch" href="/assets/js/17.7537ef1f.js"><link rel="prefetch" href="/assets/js/18.43516a24.js"><link rel="prefetch" href="/assets/js/19.5d4838ef.js"><link rel="prefetch" href="/assets/js/20.bf22f114.js"><link rel="prefetch" href="/assets/js/21.41f3ec02.js"><link rel="prefetch" href="/assets/js/22.78266fdc.js"><link rel="prefetch" href="/assets/js/23.cf134a5d.js"><link rel="prefetch" href="/assets/js/24.22ca4665.js"><link rel="prefetch" href="/assets/js/25.33c35e55.js"><link rel="prefetch" href="/assets/js/26.3bb0b7f2.js"><link rel="prefetch" href="/assets/js/27.9034c2ed.js"><link rel="prefetch" href="/assets/js/28.3df68fba.js"><link rel="prefetch" href="/assets/js/29.deba2f95.js"><link rel="prefetch" href="/assets/js/31.584d7d01.js"><link rel="prefetch" href="/assets/js/32.8f5b4a02.js"><link rel="prefetch" href="/assets/js/33.c8f8481f.js"><link rel="prefetch" href="/assets/js/34.4b31fa56.js"><link rel="prefetch" href="/assets/js/35.2bbc8916.js"><link rel="prefetch" href="/assets/js/36.d5cd622b.js"><link rel="prefetch" href="/assets/js/37.19d3b354.js"><link rel="prefetch" href="/assets/js/38.7d524ffb.js"><link rel="prefetch" href="/assets/js/39.40039361.js"><link rel="prefetch" href="/assets/js/4.3380d73e.js"><link rel="prefetch" href="/assets/js/40.912b7db1.js"><link rel="prefetch" href="/assets/js/41.f9f53738.js"><link rel="prefetch" href="/assets/js/42.b5e210ad.js"><link rel="prefetch" href="/assets/js/43.f7489792.js"><link rel="prefetch" href="/assets/js/44.8f5decf2.js"><link rel="prefetch" href="/assets/js/45.532c495e.js"><link rel="prefetch" href="/assets/js/46.74c66527.js"><link rel="prefetch" href="/assets/js/47.d7927ef7.js"><link rel="prefetch" href="/assets/js/48.ffd99c97.js"><link rel="prefetch" href="/assets/js/49.4531d55a.js"><link rel="prefetch" href="/assets/js/5.0a0b7914.js"><link rel="prefetch" href="/assets/js/50.d9b1d9ff.js"><link rel="prefetch" href="/assets/js/51.ccff86ef.js"><link rel="prefetch" href="/assets/js/52.8066fda5.js"><link rel="prefetch" href="/assets/js/53.25c7c334.js"><link rel="prefetch" href="/assets/js/54.8d093676.js"><link rel="prefetch" href="/assets/js/55.85912ed4.js"><link rel="prefetch" href="/assets/js/56.58cce92a.js"><link rel="prefetch" href="/assets/js/57.1ca00886.js"><link rel="prefetch" href="/assets/js/58.0ac45085.js"><link rel="prefetch" href="/assets/js/59.564ded23.js"><link rel="prefetch" href="/assets/js/6.5b01246e.js"><link rel="prefetch" href="/assets/js/60.4df03d06.js"><link rel="prefetch" href="/assets/js/61.d01332cc.js"><link rel="prefetch" href="/assets/js/62.9d5c1bb7.js"><link rel="prefetch" href="/assets/js/63.209f538b.js"><link rel="prefetch" href="/assets/js/64.836269ca.js"><link rel="prefetch" href="/assets/js/65.f187d5ac.js"><link rel="prefetch" href="/assets/js/66.0652f1a9.js"><link rel="prefetch" href="/assets/js/67.e210a780.js"><link rel="prefetch" href="/assets/js/68.1f8e89c7.js"><link rel="prefetch" href="/assets/js/69.32c60bbc.js"><link rel="prefetch" href="/assets/js/7.915525fa.js"><link rel="prefetch" href="/assets/js/70.862a1170.js"><link rel="prefetch" href="/assets/js/71.062f21d4.js"><link rel="prefetch" href="/assets/js/72.a0fa7881.js"><link rel="prefetch" href="/assets/js/73.4a3df679.js"><link rel="prefetch" href="/assets/js/74.cffe8db7.js"><link rel="prefetch" href="/assets/js/75.223519f9.js"><link rel="prefetch" href="/assets/js/76.7de45725.js"><link rel="prefetch" href="/assets/js/77.a7d32e67.js"><link rel="prefetch" href="/assets/js/78.56449f10.js"><link rel="prefetch" href="/assets/js/79.2d009759.js"><link rel="prefetch" href="/assets/js/8.dccb90b7.js"><link rel="prefetch" href="/assets/js/80.1c03f411.js"><link rel="prefetch" href="/assets/js/81.7817ea9d.js"><link rel="prefetch" href="/assets/js/82.2d109877.js"><link rel="prefetch" href="/assets/js/83.67fdfca4.js"><link rel="prefetch" href="/assets/js/84.71475ef2.js"><link rel="prefetch" href="/assets/js/85.0b846d2d.js"><link rel="prefetch" href="/assets/js/86.5882a7c1.js"><link rel="prefetch" href="/assets/js/87.99cb7df0.js"><link rel="prefetch" href="/assets/js/88.59490b78.js"><link rel="prefetch" href="/assets/js/89.b8a58261.js"><link rel="prefetch" href="/assets/js/9.1486c5cc.js"><link rel="prefetch" href="/assets/js/90.7a1218a3.js"><link rel="prefetch" href="/assets/js/91.85ffeda7.js"><link rel="prefetch" href="/assets/js/92.074c0dcc.js"><link rel="prefetch" href="/assets/js/93.d0753287.js"><link rel="prefetch" href="/assets/js/94.fbcfc3e6.js"><link rel="prefetch" href="/assets/js/95.b63f3486.js"><link rel="prefetch" href="/assets/js/96.ac37f6e9.js"><link rel="prefetch" href="/assets/js/97.e6d91668.js"><link rel="prefetch" href="/assets/js/98.f85c7f6c.js"><link rel="prefetch" href="/assets/js/99.5af41c84.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0bb96825.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>杂乱无章</h3> <p class="description" data-v-59e6cb88>前山微有雨, 永巷净无尘</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>Enzo</span>
          
        <span data-v-59e6cb88>2017 - </span>
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.jpg" alt="杂乱无章" class="logo"> <span class="site-name">杂乱无章</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/BigData/" class="nav-link"><i class="undefined"></i>
  BigData
</a></li><li class="dropdown-item"><!----> <a href="/categories/CTFWriteUp/" class="nav-link"><i class="undefined"></i>
  CTFWriteUp
</a></li><li class="dropdown-item"><!----> <a href="/categories/Database/" class="nav-link"><i class="undefined"></i>
  Database
</a></li><li class="dropdown-item"><!----> <a href="/categories/DevTools/" class="nav-link"><i class="undefined"></i>
  DevTools
</a></li><li class="dropdown-item"><!----> <a href="/categories/Framework/" class="nav-link"><i class="undefined"></i>
  Framework
</a></li><li class="dropdown-item"><!----> <a href="/categories/GoNotes/" class="nav-link"><i class="undefined"></i>
  GoNotes
</a></li><li class="dropdown-item"><!----> <a href="/categories/JavaNotes/" class="nav-link"><i class="undefined"></i>
  JavaNotes
</a></li><li class="dropdown-item"><!----> <a href="/categories/LinuxNotes/" class="nav-link"><i class="undefined"></i>
  LinuxNotes
</a></li><li class="dropdown-item"><!----> <a href="/categories/OperationMaintenance/" class="nav-link"><i class="undefined"></i>
  OperationMaintenance
</a></li><li class="dropdown-item"><!----> <a href="/categories/Other/" class="nav-link"><i class="undefined"></i>
  Other
</a></li><li class="dropdown-item"><!----> <a href="/categories/SpringCloudNotes/" class="nav-link"><i class="undefined"></i>
  SpringCloudNotes
</a></li><li class="dropdown-item"><!----> <a href="/categories/StudyNotes/" class="nav-link"><i class="undefined"></i>
  StudyNotes
</a></li><li class="dropdown-item"><!----> <a href="/categories/K8sNotes/" class="nav-link"><i class="undefined"></i>
  K8sNotes
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      Tools
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://tool.lu/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-api"></i>
  码农工具站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://67tool.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-api"></i>
  在线工具站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://www.macrozheng.com/#/README" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-api"></i>
  mall学习
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/blogs/other/Projects-demo.html" class="nav-link"><i class="iconfont reco-category"></i>
  ProjectsDemo
</a></li></ul></div></div> <a href="https://github.com/LoEnzo/LoEnzo.github.io" target="_blank" rel="noopener noreferrer" class="repo-link"><i class="iconfont reco-github"></i>
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/avatar.jpg" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    Enzo
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>98</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>97</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41><li class="social-item" data-v-1fad0c41><i class="iconfont reco-github" style="color:#f8b26a;" data-v-1fad0c41></i></li><li class="social-item" data-v-1fad0c41><i class="iconfont reco-mayun" style="color:#3498db;" data-v-1fad0c41></i></li><li class="social-item" data-v-1fad0c41><i class="iconfont reco-account" style="color:#e15b64;" data-v-1fad0c41></i></li><li class="social-item" data-v-1fad0c41><i class="iconfont reco-other" style="color:#67cc86;" data-v-1fad0c41></i></li><li class="social-item" data-v-1fad0c41><i class="iconfont reco-lock" style="color:#3498db;" data-v-1fad0c41></i></li><li class="social-item" data-v-1fad0c41><i class="iconfont reco-lock" style="color:#3498db;" data-v-1fad0c41></i></li></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/BigData/" class="nav-link"><i class="undefined"></i>
  BigData
</a></li><li class="dropdown-item"><!----> <a href="/categories/CTFWriteUp/" class="nav-link"><i class="undefined"></i>
  CTFWriteUp
</a></li><li class="dropdown-item"><!----> <a href="/categories/Database/" class="nav-link"><i class="undefined"></i>
  Database
</a></li><li class="dropdown-item"><!----> <a href="/categories/DevTools/" class="nav-link"><i class="undefined"></i>
  DevTools
</a></li><li class="dropdown-item"><!----> <a href="/categories/Framework/" class="nav-link"><i class="undefined"></i>
  Framework
</a></li><li class="dropdown-item"><!----> <a href="/categories/GoNotes/" class="nav-link"><i class="undefined"></i>
  GoNotes
</a></li><li class="dropdown-item"><!----> <a href="/categories/JavaNotes/" class="nav-link"><i class="undefined"></i>
  JavaNotes
</a></li><li class="dropdown-item"><!----> <a href="/categories/LinuxNotes/" class="nav-link"><i class="undefined"></i>
  LinuxNotes
</a></li><li class="dropdown-item"><!----> <a href="/categories/OperationMaintenance/" class="nav-link"><i class="undefined"></i>
  OperationMaintenance
</a></li><li class="dropdown-item"><!----> <a href="/categories/Other/" class="nav-link"><i class="undefined"></i>
  Other
</a></li><li class="dropdown-item"><!----> <a href="/categories/SpringCloudNotes/" class="nav-link"><i class="undefined"></i>
  SpringCloudNotes
</a></li><li class="dropdown-item"><!----> <a href="/categories/StudyNotes/" class="nav-link"><i class="undefined"></i>
  StudyNotes
</a></li><li class="dropdown-item"><!----> <a href="/categories/K8sNotes/" class="nav-link"><i class="undefined"></i>
  K8sNotes
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      Tools
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://tool.lu/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-api"></i>
  码农工具站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://67tool.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-api"></i>
  在线工具站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://www.macrozheng.com/#/README" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-api"></i>
  mall学习
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/blogs/other/Projects-demo.html" class="nav-link"><i class="iconfont reco-category"></i>
  ProjectsDemo
</a></li></ul></div></div> <a href="https://github.com/LoEnzo/LoEnzo.github.io" target="_blank" rel="noopener noreferrer" class="repo-link"><i class="iconfont reco-github"></i>
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Study Notes</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blogs/StudyNotes/ChatGpt.html" aria-current="page" class="active sidebar-link">ChatGpt</a></li><li><a href="/blogs/StudyNotes/Cmd.html" class="sidebar-link">Cmd 操作手册</a></li><li><a href="/blogs/StudyNotes/DomainCertificate.html" class="sidebar-link">泛域名证书申请</a></li><li><a href="/blogs/StudyNotes/FreeDomainName.html" class="sidebar-link">免费域名申请</a></li><li><a href="/blogs/StudyNotes/GithubAction.html" class="sidebar-link">GithubActions使用</a></li><li><a href="/blogs/StudyNotes/IntranetPenetration.html" class="sidebar-link">内网穿透</a></li><li><a href="/blogs/StudyNotes/OneManager.html" class="sidebar-link">利用heroku、OneManager搭建个人的OneDrive云盘映射</a></li><li><a href="/blogs/StudyNotes/vuepress.html" class="sidebar-link">搭建Vuepress静态网站</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>ChatGpt</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>Enzo</span>
          
        <span data-v-59e6cb88>2017 - </span>
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">ChatGpt</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>Enzo</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>7/11/2023</span></i> <i class="iconfont reco-eye" data-v-8a445198><span id="/blogs/StudyNotes/ChatGpt.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-8a445198><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>ChatGpt</span><span class="tag-item" data-v-8a445198>AirCode</span><span class="tag-item" data-v-8a445198>Pandora</span><span class="tag-item" data-v-8a445198>Vercel</span></i></div></div> <div class="theme-reco-content content__default"><div class="custom-block tip"><p class="title"></p><p>将ChatGtp接入钉钉，直接以会话聊天的方式进行问答，有 <code>api key</code>的可以直接接入使用，只有账号且 <code>api key</code>试用额度过期的，可以参考教程，修改js达到只用账号 <code>access_token</code>接入钉钉正常使用，各有优缺点；
Pandora像项目更加适合使用，只不过不知钉钉接入而已，Web，客户端都有</p></div><h2 id="初始"><a href="#初始" class="header-anchor">#</a> 初始</h2> <div class="language- extra-class"><pre><code>ChatGpt最开始出现那段时间，没怎么在意，主要是当时没怎么用，后来发现这玩意儿越来越火，找了一些体验的网站，发现问一些问题（就小白直接问，像百度那种，不是啥预设角色，prompt关键词高级用法），直接给出答案发现还不错，至少比某度搜索，开篇几行都是广告（虽然自己使用油猴插件，过滤了大部分），需要自己去辨别，搜索；且出现最前面的CSDN（虽然大家很诟病，觉得这里面都是贴来贴去的答案，但是不妨碍小白能从中搜索到答案，没github stackoverflow专业，但是好用）、知乎、掘金等这些网站，广告也多，啥复制展开这些还要登陆账号，繁琐。

那么，既然这玩意这么好用，那自己也得来用用，于是呼，在网上达搜特搜相关白嫖网站（镜像网站），有些是提供给大家免费使用的，有些是可以自己登陆账号，输入`api key`的，有些界面官方的，有些是魔改的，简直五花八门；平时用得不多，可能是公司业务涉及到的问题不多（自己琢磨不深），哈哈，没怎么用，不过后面偶尔想用用的时候，发现某些地址就不能访问了，又要去找新的（主要是不想花钱），就很麻烦，用起来不舒服。

熟话说，别人再好，不如自己有，就准备自己也去搞个官方账号。

正巧了解到朋友，她自己已经注册了一个账号，就用它的账号登陆了下`openai`官网（需要科学上网，也是用她的账号），发现她一直都是在官网在线使用的，尝试创建了 `api key`，在外面一些提供的免费平台，输入这个 `api key`，使用两个良好，然后搭建 `AirCode`接入钉钉，完美使用，那么剩下的就是自己注册一个自己的账号了，毕竟，老用别人的不好，哈哈。
</code></pre></div><h2 id="注册openai账号"><a href="#注册openai账号" class="header-anchor">#</a> 注册OpenAi账号</h2> <p>工具：</p> <p>邮箱：最好是国外邮箱，google邮箱 或者 微软 outlook 邮箱；</p> <p>虚拟号码：<a href="https://link.juejin.cn/?target=https%3A%2F%2Fsms-activate.org%2Fcn" target="_blank" rel="noopener noreferrer">sms-activate.org/cn<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>工具：科学上网工具（往上可以找到那种试用的）</p> <p>开始注册：</p> <div class="language- extra-class"><pre><code>注：最好直接使用邮箱注册，而不是点击三方登陆再进行注册，很多封装chatGpt的项目都不支持三方登陆

登陆[OpenAi官网](https://openai.com/), 点击最上边导航栏 `API`，然后再 `SIGN UP`，可能会要求你是否是真人，注意没有科学上网会报错 `OpenAI's services are not available in your country`。自己注册账户，然后充值一点点money，上面是dollar结算，左边就有服务，对应就有 openai 的服务，不同国家的虚拟账号是加个不一样的，差不多7-15RMB，也就是说充值的时候差不多2dollar就行。充值完成之后就可以选择这边的服务购买了，这平台好处就在于如果你选择了服务，后面对应生成了号码，结果在openai注册选择了改号码，提示不能使用的报错，那么你可以直接在生成的订单哪里点击叉，或者等到实际时间过了，会退款给你，不过只是退款到该平台哦，可不会退回到你支付宝这些。
</code></pre></div><p>详细流程可以直接百度，这里就不在重复的详细说明提供一步步实例了，流程就是这样的，可参考：</p> <p><a href="https://juejin.cn/post/7203009064719400997" target="_blank" rel="noopener noreferrer">超详细注册OpenAI接口账号的教程 - 掘金 (juejin.cn)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language- extra-class"><pre><code>注册完成后，你就可以登陆进去了，依次点击**个人头像** -&gt; **API Keys** -&gt; **Create new secret key** ，即可获取 `Secret Key` 。

这个时候你点击在线的`chatGpt`已经可以直接使用了，不过得一直保持科学上网哦，生成的 `Secret Key` 是可以用于个人兴趣项目，开发过程中提供接口调用方式的。

一直保持科学上网我还没这么有钱，下面进行白嫖之旅....
</code></pre></div><h2 id="aircode-接入钉钉"><a href="#aircode-接入钉钉" class="header-anchor">#</a> AirCode 接入钉钉</h2> <div class="language- extra-class"><pre><code>偶然查找文档，发现右边一小块有个广告，就是`AirCode`这玩意儿，看了下，大概就是云函数平台，跟以前腾讯云平台的差不多，不过腾讯云云函数平台开始收费后，之前白嫖部署的一些自动签到的项目就没管了。这个文档进去就能看到主要推广就是各种平台接入 `chatGpt`的，包含：siri、飞书、钉钉、企业微信、slack、discord。正好自己一般使用钉钉就自己看了下文档，发现人家提供一站式js示例，只要有对应的 `api key`其他照着流程来，虽然达不到5分钟部署完成，但是总的来说还是很快的。

详细教程：[钉钉 ChatGPT 机器人 - 用 JavaScript 五分钟开发一个钉钉 ChatGPT 机器人（含全部源码，免费托管，手把手教程） (aircode.cool)](https://aircode.cool/xspb3by9fs)

差不多照着流程就可以，不过有些小点还是可以给大家说明一下，避免弯路：
</code></pre></div><ul><li>钉钉开发者平台可以自己随便创建一个组织就可以进去</li> <li>使用默认模板建立的时候，Deploy 会报错，记得左下角先添加对应依赖 <code>openai</code></li> <li>想让别的小伙伴也能使用，需要建立群（自己创建的组织内部群，注意看群类型，要不然添加机器人会找不到自己创建的机器人哟）邀请钉钉好友就可以了</li> <li>群里使用每次需要@机器人生效，直接单点开机器人界面可以直接聊天</li> <li>默认示例给的代码不支持上下文，下面的js可以提供参考，交流群里面大佬提供，用魔法打败魔法，直接问的chatgtp怎么支持上下文，然后修改的js</li></ul> <details class="custom-block details"><summary>chat.js</summary> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// chat.js代码，支持上下文</span>
<span class="token comment">// @see https://docs.aircode.io/guide/functions/</span>
<span class="token keyword">const</span> aircode <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'aircode'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> Configuration<span class="token punctuation">,</span> OpenAIApi <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'openai'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span>
  generateSign<span class="token punctuation">,</span>
  reply<span class="token punctuation">,</span>
  handleError<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./_utils'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 从环境变量中获取到钉钉和 OpenAI 的相关配置</span>
<span class="token keyword">const</span> <span class="token constant">DING_APP_SECRET</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">DING_APP_SECRET</span> <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">OPENAI_KEY</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">OPENAI_KEY</span> <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>
<span class="token comment">// 当前使用的是 OpenAI 开放的最新 GPT-3.5 模型，如果后续 GPT-4 的 API 发布，修改此处参数即可</span>
<span class="token comment">// OpenAI models 参数列表 https://platform.openai.com/docs/models</span>
<span class="token keyword">const</span> <span class="token constant">OPENAI_MODEL</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">OPENAI_MODEL</span> <span class="token operator">||</span> <span class="token string">'gpt-3.5-turbo'</span><span class="token punctuation">;</span>

<span class="token comment">// 主方法</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">params<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>method <span class="token operator">!==</span> <span class="token string">'POST'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 钉钉机器人消息是 POST 请求，所以忽略所有非 POST 请求</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 如果设置了 SECRET，则进行验证</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">DING_APP_SECRET</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//从 Headers 中拿到 timestamp 和 sign 进行验证</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> timestamp<span class="token punctuation">,</span> sign <span class="token punctuation">}</span> <span class="token operator">=</span> context<span class="token punctuation">.</span>headers<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">generateSign</span><span class="token punctuation">(</span>timestamp<span class="token punctuation">)</span> <span class="token operator">!==</span> sign<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 打印请求参数到日志，方便排查</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Received params:'</span><span class="token punctuation">,</span> params<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">{</span> msgtype<span class="token punctuation">,</span> text<span class="token punctuation">,</span> conversationId<span class="token punctuation">,</span>senderStaffId <span class="token punctuation">}</span> <span class="token operator">=</span> params<span class="token punctuation">;</span>

  <span class="token comment">// 示例中，我们只支持文本消息</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>msgtype <span class="token operator">!==</span> <span class="token string">'text'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">reply</span><span class="token punctuation">(</span>params<span class="token punctuation">,</span> <span class="token string">'目前仅支持文本格式的消息。'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 如果没有配置 OPENAI_KEY，则提醒需要配置</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token constant">OPENAI_KEY</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">reply</span><span class="token punctuation">(</span>params<span class="token punctuation">,</span> <span class="token string">'恭喜你已经调通了机器人，现在请进入 AirCode 中配置 OPENAI_KEY 环境变量，完成 ChatGPT 连接。'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 声明数据库</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> content <span class="token punctuation">}</span> <span class="token operator">=</span> text<span class="token punctuation">;</span>
  <span class="token keyword">const</span> ChatsTable <span class="token operator">=</span> aircode<span class="token punctuation">.</span>db<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token string">'chats'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 判断是否为新对话</span>
  <span class="token keyword">let</span> isNewConversation <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>content <span class="token operator">===</span> <span class="token string">'new'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    isNewConversation <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//如果是新对话，则清空历史记录</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>isNewConversation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> ChatsTable<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string-property property">'cid'</span><span class="token operator">:</span> conversationId<span class="token punctuation">,</span> <span class="token string-property property">'sid'</span><span class="token operator">:</span> senderStaffId <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">reply</span><span class="token punctuation">(</span>params<span class="token punctuation">,</span> <span class="token string">'好的， 你可以问新的问题了'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//从数据库中取之前沟通的问题</span>
  <span class="token keyword">const</span> records <span class="token operator">=</span> <span class="token keyword">await</span> ChatsTable
    <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string-property property">'cid'</span><span class="token operator">:</span>conversationId<span class="token punctuation">,</span><span class="token string-property property">'sid'</span><span class="token operator">:</span>senderStaffId <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//return reply(params, '之前的问题：'+records.question);</span>
  
  <span class="token comment">// 构建发送给 GPT 的消息体</span>
  <span class="token keyword">const</span> messages <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">role</span><span class="token operator">:</span> <span class="token string">'system'</span><span class="token punctuation">,</span> <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">'You are a helpful assistant.'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">//装入上下文</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> record <span class="token keyword">of</span> records<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    messages<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">role</span><span class="token operator">:</span> <span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token literal-property property">content</span><span class="token operator">:</span> record<span class="token punctuation">.</span>question <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">role</span><span class="token operator">:</span> <span class="token string">'assistant'</span><span class="token punctuation">,</span> <span class="token literal-property property">content</span><span class="token operator">:</span> record<span class="token punctuation">.</span>assistant <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//装入当前问题</span>
   messages<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
     <span class="token punctuation">{</span> <span class="token literal-property property">role</span><span class="token operator">:</span> <span class="token string">'user'</span><span class="token punctuation">,</span> content <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 将用户的问题存入数据表中，后续方便进行排查，或者支持连续对话</span>
  <span class="token keyword">const</span> personItem <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string-property property">'cid'</span><span class="token operator">:</span>conversationId<span class="token punctuation">,</span>
    <span class="token string-property property">'sid'</span><span class="token operator">:</span>senderStaffId<span class="token punctuation">,</span>
    <span class="token string-property property">'question'</span><span class="token operator">:</span>content<span class="token punctuation">,</span>
    <span class="token string-property property">'assistant'</span><span class="token operator">:</span><span class="token string">' '</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> ChatsTable<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>personItem<span class="token punctuation">)</span><span class="token punctuation">;</span>

  
  <span class="token keyword">const</span> openai <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OpenAIApi</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Configuration</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">apiKey</span><span class="token operator">:</span> <span class="token constant">OPENAI_KEY</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token comment">// 请求 GPT 获取回复</span>
    <span class="token keyword">const</span> completion <span class="token operator">=</span> <span class="token keyword">await</span> openai<span class="token punctuation">.</span><span class="token function">createChatCompletion</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">model</span><span class="token operator">:</span> <span class="token constant">OPENAI_MODEL</span><span class="token punctuation">,</span>
      messages<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> responseMessage <span class="token operator">=</span> completion<span class="token punctuation">.</span>data<span class="token punctuation">.</span>choices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>message<span class="token punctuation">;</span>

    <span class="token comment">// 将 ChatGPT 的响应也存入数据库</span>
    <span class="token keyword">const</span> record <span class="token operator">=</span> <span class="token keyword">await</span> ChatsTable
    <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string-property property">'cid'</span><span class="token operator">:</span>conversationId<span class="token punctuation">,</span><span class="token string-property property">'sid'</span><span class="token operator">:</span>senderStaffId <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token string-property property">'assistant'</span><span class="token operator">:</span>responseMessage<span class="token punctuation">.</span>content
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    <span class="token comment">//await ChatsTable.save({ conversationId, ...responseMessage });</span>

    <span class="token comment">// 回复钉钉用户消息</span>
    <span class="token keyword">return</span> <span class="token function">reply</span><span class="token punctuation">(</span>params<span class="token punctuation">,</span> responseMessage<span class="token punctuation">.</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 错误处理，首先打印错误到日志中，方便排查</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>response <span class="token operator">||</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 根据不同的情况来生成不同的错误信息</span>
    <span class="token keyword">const</span> errorMessage <span class="token operator">=</span> <span class="token function">handleError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    <span class="token comment">// 回复错误信息给用户</span>
    <span class="token keyword">return</span> <span class="token function">reply</span><span class="token punctuation">(</span>params<span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">错误：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>errorMessage<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br></div></div></details> <details class="custom-block details"><summary>utils.js</summary> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// @see https://docs.aircode.io/guide/functions/</span>
<span class="token keyword">const</span> aircode <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'aircode'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> crypto <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'crypto'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> axios <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'axios'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 从环境变量中获取到钉钉的相关配置</span>
<span class="token keyword">const</span> <span class="token constant">DING_APP_KEY</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">DING_APP_KEY</span> <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">DING_APP_SECRET</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">DING_APP_SECRET</span> <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>

<span class="token comment">// 辅助方法，用于根据钉钉的规则生成签名，校验消息合法性</span>
<span class="token keyword">function</span> <span class="token function">generateSign</span><span class="token punctuation">(</span><span class="token parameter">timestamp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> stringToSign <span class="token operator">=</span> timestamp <span class="token operator">+</span> <span class="token string">'\n'</span> <span class="token operator">+</span> <span class="token constant">DING_APP_SECRET</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> hmac <span class="token operator">=</span> crypto<span class="token punctuation">.</span><span class="token function">createHmac</span><span class="token punctuation">(</span><span class="token string">'sha256'</span><span class="token punctuation">,</span> <span class="token constant">DING_APP_SECRET</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	hmac<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>stringToSign<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> sign <span class="token operator">=</span> hmac<span class="token punctuation">.</span><span class="token function">digest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">'base64'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> sign<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 辅助方法，获取钉钉机器人的 AccessToken</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getAccessToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token constant">DING_APP_KEY</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token constant">DING_APP_SECRET</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>
			<span class="token string">'没有正确设置 DING_APP_KEY 和 DING_APP_SECRET 环境变量，请进入 AirCode 中完成设置。'</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 先从数据库中获取 token 看下是否过期，这样不用每次都发起请求</span>
	<span class="token keyword">const</span> TokenTable <span class="token operator">=</span> aircode<span class="token punctuation">.</span>db<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> item <span class="token operator">=</span> <span class="token keyword">await</span> TokenTable<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">expiredAt</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> now <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 如果 token 还在有效期内，则直接返回</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span>expiredAt <span class="token operator">&gt;</span> now<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> item<span class="token punctuation">.</span>token<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 否则，请求钉钉获取 token</span>
	<span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>
		<span class="token string">'https://api.dingtalk.com/v1.0/oauth2/accessToken'</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span>
			<span class="token literal-property property">appKey</span><span class="token operator">:</span> <span class="token constant">DING_APP_KEY</span><span class="token punctuation">,</span>
			<span class="token literal-property property">appSecret</span><span class="token operator">:</span> <span class="token constant">DING_APP_SECRET</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">const</span> token <span class="token operator">=</span> data<span class="token punctuation">.</span>accessToken<span class="token punctuation">;</span>
	<span class="token keyword">const</span> expiredAt <span class="token operator">=</span> now <span class="token operator">+</span> data<span class="token punctuation">.</span>expireIn <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">;</span>

	<span class="token comment">// 将 token 存入数据库</span>
	<span class="token keyword">await</span> TokenTable<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">{</span> token<span class="token punctuation">,</span> expiredAt <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 返回 token</span>
	<span class="token keyword">return</span> token<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 辅助方法，用于钉钉发送单聊消息</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">sendPrivateMessage</span><span class="token punctuation">(</span><span class="token parameter">userId<span class="token punctuation">,</span> content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getAccessToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>
		<span class="token string">'https://api.dingtalk.com/v1.0/robot/oToMessages/batchSend'</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span>
			<span class="token literal-property property">robotCode</span><span class="token operator">:</span> <span class="token constant">DING_APP_KEY</span><span class="token punctuation">,</span>
			<span class="token literal-property property">userIds</span><span class="token operator">:</span> <span class="token punctuation">[</span>userId<span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token literal-property property">msgKey</span><span class="token operator">:</span> <span class="token string">'sampleText'</span><span class="token punctuation">,</span>
			<span class="token literal-property property">msgParam</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> content <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span>
			<span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token string-property property">'x-acs-dingtalk-access-token'</span><span class="token operator">:</span> token<span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 辅助方法，用于钉钉发送群聊消息</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">sendGroupMessage</span><span class="token punctuation">(</span><span class="token parameter">conversationId<span class="token punctuation">,</span> content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getAccessToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>
		<span class="token string">'https://api.dingtalk.com/v1.0/robot/groupMessages/send'</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span>
			<span class="token literal-property property">robotCode</span><span class="token operator">:</span> <span class="token constant">DING_APP_KEY</span><span class="token punctuation">,</span>
			<span class="token literal-property property">openConversationId</span><span class="token operator">:</span> conversationId<span class="token punctuation">,</span>
			<span class="token literal-property property">msgKey</span><span class="token operator">:</span> <span class="token string">'sampleText'</span><span class="token punctuation">,</span>
			<span class="token literal-property property">msgParam</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> content <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span>
			<span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token string-property property">'x-acs-dingtalk-access-token'</span><span class="token operator">:</span> token<span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 辅助方法，回复用户的消息</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">reply</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 如果没有配置钉钉的 Key 和 Secret，则通过直接返回的形式回复</span>
	<span class="token comment">// 注意这种形式虽然简单，但可能因为超时而无法在钉钉中获得响应</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token constant">DING_APP_KEY</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token constant">DING_APP_SECRET</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">msgtype</span><span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
			<span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token punctuation">{</span> content <span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 如果配置了 Key 和 Secret，则通过调用接口回复</span>
	<span class="token comment">// 根据 conversationType 判断是群聊还是单聊</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>conversationType <span class="token operator">===</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 单聊</span>
		<span class="token keyword">await</span> <span class="token function">sendPrivateMessage</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>senderStaffId<span class="token punctuation">,</span> content<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token comment">// 群聊</span>
		<span class="token keyword">await</span> <span class="token function">sendGroupMessage</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>conversationId<span class="token punctuation">,</span> content<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">ok</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 辅助方法，处理错误，生成错误消息</span>
<span class="token keyword">function</span> <span class="token function">handleError</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> errorMessage<span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 如果有 error.response，代表请求发出了，而服务器回复了错误</span>
		<span class="token keyword">const</span> <span class="token punctuation">{</span> status<span class="token punctuation">,</span> statusText<span class="token punctuation">,</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> error<span class="token punctuation">.</span>response<span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> <span class="token number">401</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">// 401 代表 OpenAI 认证失败了</span>
			errorMessage <span class="token operator">=</span>
				<span class="token string">'你没有配置正确的 OpenAI API Key，请进入 AirCode 中配置正确的环境变量。'</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>error <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>error<span class="token punctuation">.</span>message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">// 如果 OpenAI 返回了错误消息，则使用 OpenAI 的</span>
			errorMessage <span class="token operator">=</span> data<span class="token punctuation">.</span>error<span class="token punctuation">.</span>message<span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			<span class="token comment">// 否则，使用默认的错误消息</span>
			errorMessage <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Request failed with status code </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>status<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>statusText<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 如果有 error.request，代表请求发出了，但没有得到服务器响应</span>
		errorMessage <span class="token operator">=</span>
			<span class="token string">'OpenAI 服务器没有响应，可以前往 https://status.openai.com/ 查看其服务状态。'</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token string">'ENOTFOUND'</span> <span class="token operator">||</span> error<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token string">'ECONNREFUSED'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 网络错误，例如 DNS 解析错误或者建连失败</span>
		errorMessage <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Network error: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>error<span class="token punctuation">.</span>message<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		errorMessage <span class="token operator">=</span> error<span class="token punctuation">.</span>message<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> errorMessage<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	generateSign<span class="token punctuation">,</span>
	reply<span class="token punctuation">,</span>
	handleError<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br></div></div></details> <div class="language- extra-class"><pre><code>在个人dashboard-usage可以看到自己使用了多少配置，[AirCode](https://aircode.io/dashboard/usage)，毕竟是免费的，有时候可能反应比较慢一点，有条件的小伙伴可以自己给 AirCode，购买他们的plus服务哦。
</code></pre></div><h2 id="pandora-相关项目"><a href="#pandora-相关项目" class="header-anchor">#</a> Pandora 相关项目</h2> <div class="language- extra-class"><pre><code>pandora项目作者（大家称始皇）前后换了几个github账户，关注了下，因为前面项目开源的原因，导致被滥用举报封号，之前的pandora相关项目，不在维护
</code></pre></div><p>截止当前最新项目 Pandora-Next ：<a href="https://github.com/pandora-next/deploy" target="_blank" rel="noopener noreferrer">pandora-next/deploy: Pandora Cloud + Pandora Server + Shared Chat + BackendAPI Proxy + Chat2API = PandoraNext. New GPTs(Gizmo) UI, All in one! (github.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>学习文档：<a href="https://fakeopen.org/" target="_blank" rel="noopener noreferrer">关于FakeOpen | FakeOpen Doc<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，如有帮助，可以给大佬点赞加Star</p> <p>结合Pandora-Next管理tokens相关项目：<a href="https://github.com/Yanyutin753/PandoraNext-TokensTool" target="_blank" rel="noopener noreferrer">Yanyutin753/PandoraNext-TokensTool<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Pandora-Next 大佬更新太频繁了，之前需要借助这个工具的，基本都支持了，也有自己的简单后台，可以查看token，个人就给朋友几个人用，也就没折腾了，感兴趣可以去看看</p> <p>大佬提供服务相关地址：</p> <ul><li><a href="https://ai.fakeopen.com/auth1" target="_blank" rel="noopener noreferrer">ChatGPT Auth (fakeopen.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ：获取账号 access_token</li> <li><a href="https://ai.fakeopen.com/auth" target="_blank" rel="noopener noreferrer">ChatGPT Auth (fakeopen.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ：获取账号（三方登陆）access_token，根据提示安装 ChatGPTAuthHelper 浏览器插件，才能调起三方登陆</li> <li><a href="https://chat-shared3.zhile.io/shared.html" target="_blank" rel="noopener noreferrer">Shared Chat (zhile.io)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：大佬及网友共享tokens账号，临时使用可以，建议有号自己搭建</li> <li><a href="https://dash.pandoranext.com/" target="_blank" rel="noopener noreferrer">Dashboard - Index (pandoranext.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：获取 license.jwt 和 license.id 地址</li> <li><a href="https://ai.fakeopen.com/token" target="_blank" rel="noopener noreferrer">Share Token (fakeopen.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：根据自己账号的access_token 创建 登陆服务的 token，可以相互隔离</li> <li><a href="https://ai.fakeopen.com/pool" target="_blank" rel="noopener noreferrer">Pool Token (fakeopen.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：多个 token 组成 token 池</li></ul> <p>个人部署环境：</p> <ul><li><p>阿里云 轻量服务器 2G</p></li> <li><p>环境 ： K3S，v1.25.5+k3s2 (de654222)</p></li> <li><p><a href="https://pandora-next.loenzo.top/" target="_blank" rel="noopener noreferrer">个人搭建Pandora-next<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="https://pandora.loenzo.top/auth/login" target="_blank" rel="noopener noreferrer">个人搭建Pandora<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="https://status.loenzo.top/status/loenzo" target="_blank" rel="noopener noreferrer">个人服务状态 <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <details class="custom-block details"><summary>pandora-next.yaml</summary> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token comment"># pandora-next</span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> pandora<span class="token punctuation">-</span>next
  <span class="token key atrule">namespace</span><span class="token punctuation">:</span> pandora
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">matchLabels</span><span class="token punctuation">:</span>
      <span class="token key atrule">app</span><span class="token punctuation">:</span> pandora<span class="token punctuation">-</span>next
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
      <span class="token key atrule">labels</span><span class="token punctuation">:</span>
        <span class="token key atrule">app</span><span class="token punctuation">:</span> pandora<span class="token punctuation">-</span>next
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> pandora<span class="token punctuation">-</span>next
	<span class="token comment"># （避免不知道当前版本以及网络问题，我是拉去最新的重命名为当前日期推送到自己阿里云仓库了）</span>
          <span class="token key atrule">image</span><span class="token punctuation">:</span> registry.cn<span class="token punctuation">-</span>hangzhou.aliyuncs.com/aliyun<span class="token punctuation">-</span>docker<span class="token punctuation">-</span>rep/pandora<span class="token punctuation">-</span>next<span class="token punctuation">:</span><span class="token number">20231130</span>
          <span class="token key atrule">env</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> PANDORA_NEXT_LICENSE
		<span class="token comment"># (自己根据项目Readme中JWT license)</span>
              <span class="token key atrule">value</span><span class="token punctuation">:</span> xxxxx
          <span class="token key atrule">ports</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">8181</span>
          <span class="token key atrule">volumeMounts</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> pandora<span class="token punctuation">-</span>next<span class="token punctuation">-</span>log
              <span class="token key atrule">mountPath</span><span class="token punctuation">:</span> /data
      <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">hostPath</span><span class="token punctuation">:</span>
            <span class="token key atrule">path</span><span class="token punctuation">:</span> /data/pandora<span class="token punctuation">-</span>next
            <span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span>
          <span class="token key atrule">name</span><span class="token punctuation">:</span> pandora<span class="token punctuation">-</span>next<span class="token punctuation">-</span>log
<span class="token punctuation">---</span>

<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Service
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> pandora<span class="token punctuation">-</span>next<span class="token punctuation">-</span>service
  <span class="token key atrule">namespace</span><span class="token punctuation">:</span> pandora
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">app</span><span class="token punctuation">:</span> pandora<span class="token punctuation">-</span>next
  <span class="token key atrule">ports</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">protocol</span><span class="token punctuation">:</span> TCP
      <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span>
      <span class="token key atrule">targetPort</span><span class="token punctuation">:</span> <span class="token number">8181</span>

<span class="token punctuation">---</span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> traefik.containo.us/v1alpha1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> IngressRoute
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> pandora<span class="token punctuation">-</span>next<span class="token punctuation">-</span>ingress<span class="token punctuation">-</span>https<span class="token punctuation">-</span>route
  <span class="token key atrule">namespace</span><span class="token punctuation">:</span> pandora
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">entryPoints</span><span class="token punctuation">:</span>
    <span class="token comment">#    - web ##  使用 http 方式</span>
    <span class="token punctuation">-</span> websecure   <span class="token comment">## 使用https方式</span>
  <span class="token key atrule">routes</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">match</span><span class="token punctuation">:</span> Host(`pandora<span class="token punctuation">-</span>next.loenzo.top`) <span class="token important">&amp;&amp;</span> PathPrefix(`/`)
      <span class="token key atrule">kind</span><span class="token punctuation">:</span> Rule
      <span class="token key atrule">services</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> pandora<span class="token punctuation">-</span>next<span class="token punctuation">-</span>service
          <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span>
  <span class="token key atrule">tls</span><span class="token punctuation">:</span>
    <span class="token key atrule">secretName</span><span class="token punctuation">:</span> loenzo<span class="token punctuation">-</span>top<span class="token punctuation">-</span>tls   <span class="token comment">## https 配置证书</span>

<span class="token punctuation">---</span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> traefik.containo.us/v1alpha1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> IngressRoute
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> pandora<span class="token punctuation">-</span>next<span class="token punctuation">-</span>ingress<span class="token punctuation">-</span>http<span class="token punctuation">-</span>route
  <span class="token key atrule">namespace</span><span class="token punctuation">:</span> pandora
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">entryPoints</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> web
    <span class="token comment"># - websecure   ## 使用https方式</span>
  <span class="token key atrule">routes</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">match</span><span class="token punctuation">:</span> Host(`pandora<span class="token punctuation">-</span>next.loenzo.top`) <span class="token important">&amp;&amp;</span> PathPrefix(`/`)
      <span class="token key atrule">kind</span><span class="token punctuation">:</span> Rule
      <span class="token key atrule">services</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> pandora<span class="token punctuation">-</span>next<span class="token punctuation">-</span>service
          <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span>
      <span class="token comment"># 自动http转https</span>
      <span class="token key atrule">middlewares</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> redirect<span class="token punctuation">-</span>https
  <span class="token comment">#  - tls:</span>
    <span class="token comment">#  secretName: loenzo-top-tls  ## 配置证书</span>
<span class="token punctuation">---</span>
<span class="token comment"># 创建中间件，自动http转https</span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> traefik.containo.us/v1alpha1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Middleware
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> redirect<span class="token punctuation">-</span>https
  <span class="token key atrule">namespace</span><span class="token punctuation">:</span> pandora
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">redirectScheme</span><span class="token punctuation">:</span>
    <span class="token key atrule">scheme</span><span class="token punctuation">:</span> https
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br></div></div><p>旧项目也保留了一份</p> <details class="custom-block details"><summary>pandora.yaml</summary> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token comment"># pandora</span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> pandora
  <span class="token key atrule">namespace</span><span class="token punctuation">:</span> pandora
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">matchLabels</span><span class="token punctuation">:</span>
      <span class="token key atrule">app</span><span class="token punctuation">:</span> pandora
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
      <span class="token key atrule">labels</span><span class="token punctuation">:</span>
        <span class="token key atrule">app</span><span class="token punctuation">:</span> pandora
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> pandora
          <span class="token key atrule">image</span><span class="token punctuation">:</span> registry.cn<span class="token punctuation">-</span>hangzhou.aliyuncs.com/aliyun<span class="token punctuation">-</span>docker<span class="token punctuation">-</span>rep/pandora<span class="token punctuation">:</span>latest
          <span class="token key atrule">env</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> PANDORA_CLOUD
              <span class="token key atrule">value</span><span class="token punctuation">:</span> cloud
            <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> PANDORA_SERVER
              <span class="token key atrule">value</span><span class="token punctuation">:</span> 0.0.0.0<span class="token punctuation">:</span><span class="token number">80</span>
          <span class="token key atrule">ports</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
          <span class="token key atrule">volumeMounts</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> data<span class="token punctuation">-</span>volume
              <span class="token key atrule">mountPath</span><span class="token punctuation">:</span> /data/pandora
      <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> data<span class="token punctuation">-</span>volume
          <span class="token key atrule">emptyDir</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">---</span>

<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Service
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> pandora<span class="token punctuation">-</span>service
  <span class="token key atrule">namespace</span><span class="token punctuation">:</span> pandora
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">app</span><span class="token punctuation">:</span> pandora
  <span class="token key atrule">ports</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">protocol</span><span class="token punctuation">:</span> TCP
      <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span>
      <span class="token key atrule">targetPort</span><span class="token punctuation">:</span> <span class="token number">80</span>

<span class="token punctuation">---</span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> traefik.containo.us/v1alpha1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> IngressRoute
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> pandora<span class="token punctuation">-</span>ingress<span class="token punctuation">-</span>https<span class="token punctuation">-</span>route
  <span class="token key atrule">namespace</span><span class="token punctuation">:</span> pandora
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">entryPoints</span><span class="token punctuation">:</span>
    <span class="token comment">#    - web ##  使用 http 方式</span>
    <span class="token punctuation">-</span> websecure   <span class="token comment">## 使用https方式</span>
  <span class="token key atrule">routes</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">match</span><span class="token punctuation">:</span> Host(`pandora.loenzo.top`) <span class="token important">&amp;&amp;</span> PathPrefix(`/`)
      <span class="token key atrule">kind</span><span class="token punctuation">:</span> Rule
      <span class="token key atrule">services</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> pandora<span class="token punctuation">-</span>service
          <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span>
  <span class="token key atrule">tls</span><span class="token punctuation">:</span>
    <span class="token key atrule">secretName</span><span class="token punctuation">:</span> loenzo<span class="token punctuation">-</span>top<span class="token punctuation">-</span>tls   <span class="token comment">## https 配置证书</span>

<span class="token punctuation">---</span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> traefik.containo.us/v1alpha1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> IngressRoute
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> pandora<span class="token punctuation">-</span>ingress<span class="token punctuation">-</span>http<span class="token punctuation">-</span>route
  <span class="token key atrule">namespace</span><span class="token punctuation">:</span> pandora
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">entryPoints</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> web
    <span class="token comment"># - websecure   ## 使用https方式</span>
  <span class="token key atrule">routes</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">match</span><span class="token punctuation">:</span> Host(`pandora.loenzo.top`) <span class="token important">&amp;&amp;</span> PathPrefix(`/`)
      <span class="token key atrule">kind</span><span class="token punctuation">:</span> Rule
      <span class="token key atrule">services</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> pandora<span class="token punctuation">-</span>service
          <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span>
      <span class="token comment"># 自动http转https</span>
      <span class="token key atrule">middlewares</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> redirect<span class="token punctuation">-</span>https

  <span class="token comment">#  - tls:</span>
    <span class="token comment">#  secretName: loenzo-top-tls  ## 配置证书</span>
<span class="token punctuation">---</span>
<span class="token comment"># 创建中间件，自动http转https 一个namespace 创建一个就行了</span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> traefik.containo.us/v1alpha1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Middleware
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> redirect<span class="token punctuation">-</span>https
  <span class="token key atrule">namespace</span><span class="token punctuation">:</span> pandora
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">redirectScheme</span><span class="token punctuation">:</span>
    <span class="token key atrule">scheme</span><span class="token punctuation">:</span> https
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br></div></div></details></details></div></section> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/LoEnzo/LoEnzo.github.io/edit/master/blogs/StudyNotes/ChatGpt.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">12/1/2023, 8:13:30 AM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/blogs/StudyNotes/Cmd.html">
          Cmd 操作手册
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/blogs/StudyNotes/ChatGpt.html#初始" class="sidebar-link reco-side-初始" data-v-b57cc07c>初始</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/StudyNotes/ChatGpt.html#注册openai账号" class="sidebar-link reco-side-注册openai账号" data-v-b57cc07c>注册OpenAi账号</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/StudyNotes/ChatGpt.html#aircode-接入钉钉" class="sidebar-link reco-side-aircode-接入钉钉" data-v-b57cc07c>AirCode 接入钉钉</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/StudyNotes/ChatGpt.html#pandora-相关项目" class="sidebar-link reco-side-pandora-相关项目" data-v-b57cc07c>Pandora 相关项目</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><!----><!----></div></div>
    <script src="/assets/js/app.d063eda2.js" defer></script><script src="/assets/js/3.d0639e0c.js" defer></script><script src="/assets/js/1.77727c25.js" defer></script><script src="/assets/js/104.dca58f8c.js" defer></script><script src="/assets/js/30.853d03e4.js" defer></script>
  </body>
</html>
